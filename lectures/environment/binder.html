
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />
<meta property="og:title" content="Binder for Reproducible Research" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://earth-env-data-science.github.io/lectures/environment/binder.html" />
<meta property="og:site_name" content="Python" />
<meta property="og:description" content="This lecture is concerned with the topic of reproducibility. Nearly everyone agrees that reproducibility is an important principle for science: if results are not reproducible, they are not valid. ..." />
<meta property="og:image" content="https://earth-env-data-science.github.io/_static/eeds-logo.png" />
<meta property="og:image:alt" content="Python" />
<meta name="description" content="This lecture is concerned with the topic of reproducibility. Nearly everyone agrees that reproducibility is an important principle for science: if results are not reproducible, they are not valid. ..." />

    <title>Binder for Reproducible Research &#8212; Earth and Environmental Data Science</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" href="../../_static/styles/sphinx-book-theme.css?digest=5115cc725059bd94278eecd172e13a965bf8f5a9" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/design-style.b7bb847fb20b106c3d81b95245e65545.min.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script src="../../_static/scripts/sphinx-book-theme.js?digest=9c920249402e914e316237a7dbc6769907cce411"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../../_static/sphinx-thebe.js"></script>
    <link rel="canonical" href="https://earth-env-data-science.github.io/lectures/environment/binder.html" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="All About Data" href="../data.html" />
    <link rel="prev" title="Managing Python Environments" href="python_environments.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../../_static/eeds-logo.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">Earth and Environmental Data Science</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../../intro.html">
                    An Introduction to Earth and Environmental Data Science
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  About this Book
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../LICENSE.html">
   License for this book
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../projects.html">
   Final Projects
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  The Interactive Computing Environment
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="intro_to_jupyterlab.html">
   Intro to JupyterLab
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="intro_to_unix.html">
   Intro to Unix
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="intro_to_git.html">
   Intro to Git for Version Control
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../assignments/files_markdown_git.html">
   Assignment: Files, Git, and Github
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="python_environments.html">
   Managing Python Environments
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Binder for Reproducible Research
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../data.html">
   All About Data
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  The Core Python Language
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../core_python/python_fundamentals.html">
   Python Fundamentals
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../core_python/functions_classes.html">
   Python Functions and Classes
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../core_python/organization_and_packaging.html">
   Organization and Packaging of Python Projects
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../assignments/python_basics_and_functions.html">
   Assignment: Basic Python
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Scientific Python Fundamentals
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../basic_scipy/numpy_and_matplotlib.html">
   Numpy and Matplotlib
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../assignments/numpy_matplotlib.html">
   Assignment: Numpy and Matplotlib
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../basic_scipy/more_matplotlib.html">
   More Matplotlib
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../assignments/more_matplotlib.html">
   Assignment: More Matplotlib
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  High Level Data Analysis Frameworks
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../pandas/pandas_intro.html">
   Pandas
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../pandas/basic_pandas.html">
     Pandas Fundamentals
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../assignments/basic_pandas.html">
     Assignment: Pandas Fundamentals with Earthquake Data
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../pandas/pandas_groupby.html">
     Pandas: Groupby
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../assignments/pandas_groupby.html">
     Assignment: Pandas Groupby with Hurricane Data
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../xarray/xarray_intro.html">
   Xarray for multidimensional gridded data
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../xarray/xarray.html">
     Xarray Fundamentals
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../assignments/basic_xarray.html">
     Assignment: Xarray Fundamentals with Atmospheric Radiation Data
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../xarray/xarray-part2.html">
     Xarray Interpolation, Groupby, Resample, Rolling, and Coarsen
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../assignments/more_xarray.html">
     Assignment: More Xarray with El Ni√±o-Southern Oscillation (ENSO) Data
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../xarray/xarray_tips_and_tricks.html">
     Xarray Tips and Tricks
    </a>
   </li>
  </ul>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Geoscience Package
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../mapping_cartopy.html">
   Maps in Scientific Python
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../assignments/cartopy.html">
   Assignment: Making Maps with Cartopy
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Climate Model Data
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../models/intro_models.html">
   Working With Earth Science Model Output
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../models/cmip.html">
   Working with output from many different CMIP6 climate models
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../assignments/cmip.html">
   Assignment: Calculate wet bulb temperature for CMIP6 models
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../models/regridding.html">
   Model validation: Comparing a state estimate to observations
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../models/xgcm.html">
   Calculating properties in the native model grid using xgcm
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Big Data
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../dask/intro.html">
   Dask for Parallel Computing in Python
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../dask/dask_arrays.html">
   Computing with Dask
  </a>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
            <div class="navbar_extra_footer">
            Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
            </div>
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<div class="menu-dropdown menu-dropdown-launch-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Launch interactive content">
      <i class="fas fa-rocket"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://https://us-central1-b.gcp.pangeo.io/hub/user-redirect/git-pull?repo=https%3A//github.com/earth-env-data-science/earth-env-data-science-book&urlpath=lab/tree/earth-env-data-science-book/src/lectures/environment/binder.ipynb&branch=master"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Launch on JupyterHub"
>
  

<span class="headerbtn__icon-container">
  
    <img src="../../_static/images/logo_jupyterhub.svg">
  </span>
<span class="headerbtn__text-container">JupyterHub</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>

<div class="menu-dropdown menu-dropdown-repository-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Source repositories">
      <i class="fab fa-github"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://github.com/earth-env-data-science/earth-env-data-science-book"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Source repository"
>
  

<span class="headerbtn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="headerbtn__text-container">repository</span>
</a>

      </li>
      
      <li>
        <a href="https://github.com/earth-env-data-science/earth-env-data-science-book/issues/new?title=Issue%20on%20page%20%2Flectures/environment/binder.html&body=Your%20issue%20content%20here."
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Open an issue"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="headerbtn__text-container">open issue</span>
</a>

      </li>
      
      <li>
        <a href="https://github.com/earth-env-data-science/earth-env-data-science-book/edit/master/src/lectures/environment/binder.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Edit this page"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-pencil-alt"></i>
  </span>
<span class="headerbtn__text-container">suggest edit</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<div class="menu-dropdown menu-dropdown-download-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Download this page">
      <i class="fas fa-download"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="../../_sources/lectures/environment/binder.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="headerbtn__text-container">.ipynb</span>
</a>

      </li>
      
      <li>
        
<button onclick="printPdf(this)"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="headerbtn__text-container">.pdf</span>
</button>

      </li>
      
    </ul>
  </div>
</div>
<label for="__page-toc"
  class="headerbtn headerbtn-page-toc"
  
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-list"></i>
  </span>

</label>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
    <div class="tocsection onthispage pt-5 pb-3">
        <i class="fas fa-list"></i> Contents
    </div>
    <nav id="bd-toc-nav" aria-label="Page">
        <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#an-example-binder">
   An Example Binder
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#contents">
     Contents
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#binder-link">
     Binder Link
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#nbgitpuller-tricks">
   nbgitpuller tricks
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#pangeo-docker-images">
     Pangeo Docker Images
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#creating-your-own-binder">
   Creating your Own Binder
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#using-a-pre-existing-environment">
     Using a pre-existing environment
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#defining-a-custom-environment">
     Defining a custom environment
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#updating-your-binder">
     Updating your Binder
    </a>
   </li>
  </ul>
 </li>
</ul>

    </nav>
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Binder for Reproducible Research</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#an-example-binder">
   An Example Binder
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#contents">
     Contents
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#binder-link">
     Binder Link
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#nbgitpuller-tricks">
   nbgitpuller tricks
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#pangeo-docker-images">
     Pangeo Docker Images
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#creating-your-own-binder">
   Creating your Own Binder
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#using-a-pre-existing-environment">
     Using a pre-existing environment
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#defining-a-custom-environment">
     Defining a custom environment
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#updating-your-binder">
     Updating your Binder
    </a>
   </li>
  </ul>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <section class="tex2jax_ignore mathjax_ignore" id="binder-for-reproducible-research">
<h1>Binder for Reproducible Research<a class="headerlink" href="#binder-for-reproducible-research" title="Permalink to this headline">#</a></h1>
<p>This lecture is concerned with the topic of reproducibility.
Nearly everyone agrees that reproducibility is an important principle for science:
if results are not reproducible, they are not valid.</p>
<p>But how do we achieve reproducibility in practice?
In computational / data science, a particular analysis, calculation, or notebook may depend on hundreds of different software packages, each with many different versions.
Reproducibility of our results depends on having the correct version.</p>
<p>In the <span class="xref myst">lesson on python environments</span>, we learned how to use <a class="reference external" href="https://conda.io/docs/">conda</a> to manage the packages in our environment.
In this lesson, we will learn how to package our own code / notebooks together with an environment in such a way that it can be executed by anyone / anywhere, using cloud computing.</p>
<p><img alt="Binder Logo" src="https://mybinder.org/static/logo.svg" /></p>
<p>From the <a class="reference external" href="https://mybinder.readthedocs.io/en/latest/">Binder Documentation</a></p>
<blockquote>
<div><p>Binder allows you to create custom computing environments that can be shared and used by many remote users. It is powered by <a class="reference external" href="https://github.com/jupyterhub/binderhub">BinderHub</a>, which is an open-source tool that deploys the Binder service in the cloud. One-such deployment lives ‚Ä¶ at <a class="reference external" href="http://mybinder.org">mybinder.org</a> and is free to use.</p>
</div></blockquote>
<p>BinderHub uses a combination of open source technologies, including JupyterHub and <a class="reference external" href="https://docs.docker.com/">Docker</a> (a containerization service), to achieve this magic.</p>
<p>In addition to the <a class="reference external" href="http://mybinder.org">http://mybinder.org</a> deployment, the Pangeo project operates a BinderHub service at <a class="reference external" href="http://binder.pangeo.io">http://binder.pangeo.io</a>. This BinderHub is customized to allow users to also launch Dask clusters in the cloud.</p>
<section id="an-example-binder">
<h2>An Example Binder<a class="headerlink" href="#an-example-binder" title="Permalink to this headline">#</a></h2>
<p>All binders start with a github repository. As an example, let‚Äôs consider the the official dask examples repo: <a class="reference external" href="https://github.com/dask/dask-examples">https://github.com/dask/dask-examples</a></p>
<section id="contents">
<h3>Contents<a class="headerlink" href="#contents" title="Permalink to this headline">#</a></h3>
<p>The repository should contain the following two elements:</p>
<ul class="simple">
<li><p>Python code and / or notebooks (these can live in sub-directories)</p></li>
<li><p>An <code class="docutils literal notranslate"><span class="pre">environment.yml</span></code> or <code class="docutils literal notranslate"><span class="pre">requirements.txt</span></code> file to specify the package dependencies (can be at the top level or in a subdirectory called <code class="docutils literal notranslate"><span class="pre">binder/</span></code>)</p></li>
</ul>
<p>The dask-examples repo contains about 10 different example notebooks.</p>
<p>To specify the environment, the dask-example repo has the following file at <code class="docutils literal notranslate"><span class="pre">binder/environment.yml</span></code></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">name</span><span class="p">:</span> <span class="n">dask</span><span class="o">-</span><span class="n">examples</span>
<span class="n">channels</span><span class="p">:</span>
  <span class="o">-</span> <span class="n">conda</span><span class="o">-</span><span class="n">forge</span>
<span class="n">dependencies</span><span class="p">:</span>
  <span class="o">-</span> <span class="n">python</span><span class="o">=</span><span class="mf">3.8</span>
  <span class="o">-</span> <span class="n">bokeh</span><span class="o">=</span><span class="mf">2.1.1</span>
  <span class="o">-</span> <span class="n">dask</span><span class="o">=</span><span class="mf">2.20.0</span>
  <span class="o">-</span> <span class="n">dask</span><span class="o">-</span><span class="n">image</span><span class="o">=</span><span class="mf">0.2.0</span>
  <span class="o">-</span> <span class="n">dask</span><span class="o">-</span><span class="n">ml</span><span class="o">=</span><span class="mf">1.6.0</span>
  <span class="o">-</span> <span class="n">dask</span><span class="o">-</span><span class="n">labextension</span><span class="o">=</span><span class="mf">2.0.2</span>
  <span class="o">-</span> <span class="n">jupyterlab</span><span class="o">=</span><span class="mf">2.1</span>
  <span class="o">-</span> <span class="n">nodejs</span><span class="o">=</span><span class="mi">14</span>
  <span class="o">-</span> <span class="n">numba</span>
  <span class="o">-</span> <span class="n">numpy</span><span class="o">=</span><span class="mf">1.21</span>
  <span class="o">-</span> <span class="n">pip</span>
  <span class="o">-</span> <span class="n">pandas</span><span class="o">=</span><span class="mf">1.3</span>
  <span class="o">-</span> <span class="n">pyarrow</span>
  <span class="o">-</span> <span class="n">python</span><span class="o">-</span><span class="n">graphviz</span>
  <span class="o">-</span> <span class="n">seaborn</span>
  <span class="o">-</span> <span class="n">scikit</span><span class="o">-</span><span class="n">learn</span><span class="o">=</span><span class="mf">0.23</span>
  <span class="o">-</span> <span class="n">matplotlib</span>
  <span class="o">-</span> <span class="n">nbserverproxy</span>
  <span class="o">-</span> <span class="n">nomkl</span>
  <span class="o">-</span> <span class="n">h5py</span>
  <span class="o">-</span> <span class="n">xarray</span>
  <span class="o">-</span> <span class="n">pooch</span>
  <span class="o">-</span> <span class="n">bottleneck</span>
  <span class="o">-</span> <span class="n">requests</span>
  <span class="o">-</span> <span class="n">py</span><span class="o">-</span><span class="n">xgboost</span>
  <span class="o">-</span> <span class="n">dask</span><span class="o">-</span><span class="n">xgboost</span>
  <span class="o">-</span> <span class="n">pip</span><span class="p">:</span>
      <span class="o">-</span> <span class="n">mimesis</span>
      <span class="o">-</span> <span class="n">pystan</span><span class="o">==</span><span class="mf">2.19.1.1</span>
      <span class="o">-</span> <span class="n">prophet</span>
</pre></div>
</div>
<p>This is a rather complex set of dependencies.
In addition, there are other files in the <code class="docutils literal notranslate"><span class="pre">binder/</span></code> directory that help further customize the environment.
These customizations are described in the <a class="reference external" href="https://mybinder.readthedocs.io/en/latest/using.html#executing-post-build-commands">Binder Documentation</a>.</p>
</section>
<section id="binder-link">
<h3>Binder Link<a class="headerlink" href="#binder-link" title="Permalink to this headline">#</a></h3>
<p>Once the repository is ready, it‚Äôs time to generate a link to the BinderHub.
These links have the following structure:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>https://mybinder.org/v2/&lt;provider-name&gt;/&lt;org-name&gt;/&lt;repo-name&gt;/&lt;branch|commit|tag&gt;?filepath=&lt;path/to/notebook.ipynb&gt;
</pre></div>
</div>
<p>For the dask-examples repo, the link used is:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>https://mybinder.org/v2/gh/dask/dask-examples/master?urlpath=lab
</pre></div>
</div>
<p>In this case, <code class="docutils literal notranslate"><span class="pre">provider</span></code> is <code class="docutils literal notranslate"><span class="pre">gh</span></code> (i.e. github).</p>
<p>The <a class="reference external" href="https://mybinder.org/">https://mybinder.org/</a> website has a nifty tool to automatically generate badges that can be placed on a website or markdown file to make it easy to launch the binder.
For dask-examples, the markdown code looks like this:</p>
<p><code class="docutils literal notranslate"><span class="pre">[![Binder](https://mybinder.org/badge.svg)](https://mybinder.org/v2/gh/dask/dask-examples/master?urlpath=lab)</span></code></p>
<p>And renders like this</p>
<p><a class="reference external" href="https://mybinder.org/v2/gh/dask/dask-examples/master?urlpath=lab"><img alt="Binder" src="https://mybinder.org/badge.svg" /></a></p>
<p>Take some time to launch the binder and play around with it.</p>
</section>
</section>
<section id="nbgitpuller-tricks">
<h2>nbgitpuller tricks<a class="headerlink" href="#nbgitpuller-tricks" title="Permalink to this headline">#</a></h2>
<p>The original binder model kept both the code itself and the environment specification in the same repo.
The way binder works means that <em>every time the repo is updated, the environment must be completely rebuilt from scratch.</em>
As we have seen, building a complex python environment can take upwards of 20 minutes.
So even if you only change a comment in your code, the entire environment is rebuilt when you try to relaunch the binder.
Users usually update their code much more frequently than they update the environment.
Furthermore, many binders may want to share the <em>same</em> base environment.</p>
<p>To address these issues, we can leverage a clever tool called <a class="reference external" href="https://jupyterhub.github.io/nbgitpuller/">nbgitpuller</a>.
Nbgitpuller is a JupyterHub extension that allows you to automatically launch content from a github repo into a specific
JupyterHub or Binder via a simple URL.
That‚Äôs how this book works.
The ‚ÄúLaunch JupyterHub‚Äù button for this page points to the following link:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>https://https//us-central1-b.gcp.pangeo.io//hub/user-redirect/git-pull?repo=https://github.com/earth-env-data-science/earth-env-data-science-book&amp;urlpath=lab/tree/earth-env-data-science-book/src/lectures/environment/binder.ipynb&amp;branch=master
</pre></div>
</div>
<p>Ok, maybe not a ‚Äúsimple‚Äù URL. üò¨ In fact, constructing these links can be so tricky that nbgitpuller has a <a class="reference external" href="https://jupyterhub.github.io/nbgitpuller/link.html">special webpage</a> to help you generate them.</p>
<p>An nbgitpuller link can also be generated for a binder. Here is a link that will open this notebook in <a class="reference external" href="http://mybinder.org">mybinder.org</a>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>https://mybinder.org/v2/gh/pangeo-data/pangeo-docker-images/2021.09.30?urlpath=git-pull%3Frepo%3Dhttps%253A%252F%252Fgithub.com%252Fearth-env-data-science%252Fearth-env-data-science-book%26urlpath%3Dtree%252Fearth-env-data-science-book%252Fearth-env-data-science-book%252Fsrc%252Flectures%252Fenvironment%252Fbinder.ipynb%26branch%3Dmaster
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>https://mybinder.org/v2/gh/pangeo-data/pangeo-docker-images/2021.09.30?urlpath=git-pull%3Frepo%3Dhttps%253A%252F%252Fgithub.com%252Fearth-env-data-science%252Fearth-env-data-science-book%26urlpath%3Dlab%252Ftree%252Fearth-env-data-science-book%252Fsrc%252Flectures%252Fenvironment%252Fbinder.ipynb%26branch%3Dmaster
</pre></div>
</div>
<p>Yes, very complicated and messy. But it works! As with a regular binder, you can hide it behind a button link.</p>
<section id="pangeo-docker-images">
<h3>Pangeo Docker Images<a class="headerlink" href="#pangeo-docker-images" title="Permalink to this headline">#</a></h3>
<p>For students of this class, when creating your first binder, we recommend <em>not defining your own environment from scratch</em> but rather using the default environment that comes with our JupyterHub.
This environment is curated and automatically built into a Docker containter at <a class="reference external" href="https://github.com/pangeo-data/pangeo-docker-images">https://github.com/pangeo-data/pangeo-docker-images</a>.
The list of official ‚Äútags‚Äù is at <a class="reference external" href="https://github.com/pangeo-data/pangeo-docker-images/tags">https://github.com/pangeo-data/pangeo-docker-images/tags</a> ‚Äì you can see that a new image is released every few weeks.
The built Docker images live at <a class="reference external" href="https://hub.docker.com/r/pangeo/pangeo-notebook/tags">https://hub.docker.com/r/pangeo/pangeo-notebook/tags</a>.</p>
<p>Our class has been using the tag <code class="docutils literal notranslate"><span class="pre">2021.09.30</span></code>.</p>
<p>To create a binder that uses this environment</p>
<ul class="simple">
<li><p>Go to <a class="reference external" href="https://jupyterhub.github.io/nbgitpuller/link.html">https://jupyterhub.github.io/nbgitpuller/link.html</a></p></li>
<li><p>Click the ‚Äúbinder‚Äù tab</p></li>
<li><p>In ‚ÄúGit Environment Repository URL‚Äù specify <code class="docutils literal notranslate"><span class="pre">https://github.com/pangeo-data/pangeo-docker-images</span></code></p></li>
<li><p>In ‚ÄúBranch‚Äù specify <code class="docutils literal notranslate"><span class="pre">2021.09.30</span></code></p></li>
<li><p>In ‚ÄúGit Content Repository URL‚Äù put the <em>GitHub link to YOUR repo</em>.</p></li>
</ul>
</section>
</section>
<section id="creating-your-own-binder">
<h2>Creating your Own Binder<a class="headerlink" href="#creating-your-own-binder" title="Permalink to this headline">#</a></h2>
<p>When creating your own binder, you have two options:</p>
<ul class="simple">
<li><p>Use a pre-existing environment</p></li>
<li><p>Define your own custom environment.</p></li>
</ul>
<section id="using-a-pre-existing-environment">
<h3>Using a pre-existing environment<a class="headerlink" href="#using-a-pre-existing-environment" title="Permalink to this headline">#</a></h3>
<p>In this case, all you need is a GitHub repo with one or more notebooks in it.
Then use the nbgitpuller approach described above.</p>
</section>
<section id="defining-a-custom-environment">
<h3>Defining a custom environment<a class="headerlink" href="#defining-a-custom-environment" title="Permalink to this headline">#</a></h3>
<p>To create your own binder with a custom environment, you will need two ingredients:</p>
<ul class="simple">
<li><p>Some code to share</p></li>
<li><p>An appropriate environment</p></li>
</ul>
<p>First create new github repo with the following file / directory structure:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>binder/environment.yml
some-notebook.ipynb
Readme.md
</pre></div>
</div>
<p>Fill out your environment.yml with your desired packages.
(See the <span class="xref myst">lesson on python environments</span> to review how to specify environments.)</p>
<p>Then add some basic content to the notebook. For example, try importing the packages you might want to use:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>import numpy as np
import pandas as pd
import xarray as xr
import cartopy.crs as ccrs
from matplotlib import pyplot as plt
</pre></div>
</div>
<p>Once things are working, push the repo to github. Then use <a class="reference external" href="https://mybinder.org">https://mybinder.org</a> to generate a binder badge and add it to your <code class="docutils literal notranslate"><span class="pre">Readme.md</span></code> file.</p>
<p>You should now be able to run your binder on <a class="reference external" href="http://mybinder.org">mybinder.org</a>!</p>
</section>
<section id="updating-your-binder">
<h3>Updating your Binder<a class="headerlink" href="#updating-your-binder" title="Permalink to this headline">#</a></h3>
<p>An important thing to remember is that <strong>you cannot save changes from within a running binder</strong>. The running notebooks will automatically shut down after 10 minutes of inactivity, and you will <strong>lose any modifications you made to the notebooks</strong>. (See <a class="reference external" href="https://mybinder.readthedocs.io/en/latest/faq.html">mybinder FAQ</a> for more details.) This is very different from our research computing jupyterhub, where all changes are saved. Binder is meant for demonstrating and sharing finished projects, not development of new ones.</p>
<p>To update your binder, you need to go back to your personal copy of the repo, make changes, commit, and push back to github.</p>
</section>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./lectures/environment"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="python_environments.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Managing Python Environments</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="../data.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">All About Data</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By Ryan Abernathey<br/>
  
      &copy; Copyright 2016-2021.<br/>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>